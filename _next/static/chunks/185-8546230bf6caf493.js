(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{21440:function(){},14091:function(e,t,n){"use strict";n.d(t,{$u:function(){return c},AJ:function(){return S},Bo:function(){return E},E6:function(){return v},EW:function(){return D},Fc:function(){return y},Ij:function(){return M},J7:function(){return m},Ku:function(){return I},LV:function(){return U},OE:function(){return O},U:function(){return j},WZ:function(){return d},ZV:function(){return g},cr:function(){return k},dA:function(){return b},dX:function(){return p},jT:function(){return h},pO:function(){return w},tA:function(){return R},uT:function(){return J},u_:function(){return f},uo:function(){return C}}),n(74587);var r=n(42123),l=n(90777);function o(e){let t=e.length;for(;0!=t;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}}function u(e){return{name:e||null,result:0}}function a(){return{name:null,result:-2}}function s(){return{name:null,result:-3}}function i(e,t){let n;for(let r=0;r<t.length;r++){let l=t[r];if(l.name===e){n=l;break}}return n?n.players:[e]}function f(e,t){let n=structuredClone(e);return t&&o(n),n}function c(e,t,n){let r=e.data;r[t][n].result=1,r[t][n%2==0?n+1:n-1].result=-1;let l=r[t-1][(n-n%2)/2];l.name=r[t][n].name,t-1==0&&(l.result=2)}function h(e,t,n,r){let l=e.data;"top"==r?l[t][n].result=1:"left"==r&&(l[t][n].result=-1)}function p(e){let t=e[e.length-1];for(let e=0;e<t.length;e++)if(null==t[e].name)return e;return t.length}function d(e,t,n){return e[t][n%2==0?n+1:n-1]}function m(){let e;let[t,n]=(0,r.useState)(""),[l,o]=(0,r.useState)(!1),u=(0,r.useRef)({startMs:null,lengthMs:null,endMs:null,intervalId:null,pausedMs:null,formatDuration:e=>{let t=Math.floor(e%1e3),n=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),l=Math.floor(e/36e5%24);return(l=l<10?"0"+l:l)+":"+(r=r<10?"0"+r:r)+":"+(n=n<10?"0"+n:n)+"."+(t=t<10?"00"+t:t<100?"0"+t:t)},createInterval:()=>{e.intervalId=setInterval(()=>{let t=Date.now(),r=e.endMs-t;r>=0?n(e.formatDuration(r)):(n(e.formatDuration(0)),e.clearInterval())}),o(!0)},clearInterval:()=>{clearInterval(e.intervalId),e.intervalId=null,o(!1)},start:t=>{e.end(),e.set(t),e.createInterval()},end:()=>{e.intervalId&&(n(e.formatDuration(0)),e.clearInterval())},set:t=>{e.lengthMs=1e3*t,e.startMs=Date.now(),e.endMs=e.startMs+e.lengthMs,n(e.formatDuration(e.lengthMs))},pause:()=>{let t=Date.now(),r=e.endMs-t;e.pausedMs=r,e.startMs=null,e.endMs=null,e.clearInterval(),n(e.formatDuration(r))},play:()=>{let t=Date.now()+e.pausedMs;e.endMs=t,e.startMs=t-e.lengthMs,e.pausedMs=null,e.createInterval()},reset:()=>{l?e.start(e.lengthMs/1e3):(e.pausedMs=e.lengthMs,e.set(e.lengthMs/1e3))}});return e=u.current,[u.current,t,l]}function g(e){(e=>{let t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)})("/AtomicPractice"+"/print?options=".concat(encodeURIComponent(JSON.stringify(e))))}function b(e){(e=>{let t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)})("/AtomicPractice"+"/print/answers?problemSet=".concat(encodeURIComponent(JSON.stringify(e))))}function w(e){return window.open("/AtomicPractice"+"/admin?problemSet=".concat(encodeURIComponent(JSON.stringify(e))),"Admin view","popup")}function M(e,t){let n=t.answer;if("multiple"==n.type)return String.fromCharCode(e)==n.mcq;if("latex"==n.type){let t=e=>{let t=(e=(e=(e=e.replace(/^\$+|\$+$/g,"")).replace(/\s*(\^)\s*/g,"$1")).replace(/\\frac(\d)(\d)/g,"\\frac{$1}{$2}")).lastIndexOf("=");return e=e.substring(-1==t?0:t+1)};e=t(e),n=t(n.latex);try{return(0,l.I)(e,n,"symbolic")}catch(e){return console.log(e),!1}}else if("text"==n.type){let t=e=>e.trim();return t(e)==t(n.text)}}function I(e,t,n){let[l,o]=(0,r.useState)(void 0===t?null:t),[u,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!u){let t=new URL(window.location.href).searchParams.get(e);if(null!=t)try{let e=JSON.parse(t);o(e),n&&n(e)}catch(e){}a(!0)}},[o,e,n,u]),[l,o]}function y(e){return encodeURIComponent(JSON.stringify(e))}function v(e,t){let n=structuredClone(e);return"bracket"==e.type?n.data=function(e){let t=Math.ceil(Math.log2(e.length)),n=2**t,r=[];for(let e=0;e<t;e++){r.push([]);for(let t=0;t<2**e;t++)r[r.length-1].push(u())}let l=[];for(let t=0;t<e.length;t++)l.push(u(e[t]));o(l);for(let e=l.length;e<n;e++)l.push(u());return r.push(l),r}(t):"roundRobin"==e.type&&(n.data=function(e){let t=structuredClone(e);o(t);let n=[[s()]];for(let e=0;e<t.length;e++)n[0].push(u(t[e])),n[0][n[0].length-1].result=1;n[0].push(s());for(let e=0;e<t.length;e++){let r=[u(t[e])];r[0].result=-1;for(let t=0;t<e;t++)r.push(a());r.push(a());for(let n=e+1;n<t.length;n++)r.push(u());r.push(u(t[e])),n.push(r)}n.push([s()]);for(let e=0;e<t.length;e++)n[n.length-1].push(u(t[e]));return n[n.length-1].push(s()),n}(t)),n}function k(e){return"bracket"==e.type?function(e){let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(let e=0;e<r.length;e++){let n=r[e];n.name&&t.push(n.name)}}return t}(e.data):"roundRobin"==e.type?function(e){let t=e[0],n=[];for(let e=1;e<t.length;e++){let r=t[e];n.push(r.name)}return n}(e.data):void 0}function O(e){return"bracket"==e.type?function(e,t){let n={totalMatches:2**(e.length-1)-1,matches:[]},r=n.matches,l=1;for(let n=e.length-1;n>0;n--){let o=e[n];for(let e=0;e<o.length;e+=2){let u=o[e],a=o[e+1];if(u.name&&a.name)r.push({name:"Match "+l,teams:[{name:u.name,description:"Location: Left whiteboard",players:i(u.name,t),rowI:n,columnI:e},{name:a.name,description:"Location: Right whiteboard",players:i(a.name,t),rowI:n,columnI:e+1}]}),l++;else break}}return n}(e.data,e.teams):"roundRobin"==e.type?function(e,t){let n={totalMatches:(e[0].length-2)*(e[0].length-3)/2,matches:[]},r=n.matches,l=1,o=e[0];for(let n=2;n<e.length-1;n++){let u=n-2;for(let a=n;a<e.length-1;a++){let n=a-1-u,s=e[n][0],f=o[a];r.push({name:"Match "+l,teams:[{name:s.name,description:"Location: Left whiteboard",players:i(s.name,t),rowI:n,columnI:a,side:"left"},{name:f.name,description:"Location: Right whiteboard",players:i(f.name,t),rowI:n,columnI:a,side:"top"}]}),l++}}return n}(e.data,e.teams):void 0}function R(e){if("bracket"==e.type)return e.data[0][0];if("roundRobin"==e.type){let t=e.data,n=t[0],r=[];r.length=n.length-2,r.fill(0);for(let e=1;e<t.length-1;e++){let n=t[e];for(let t=e+1;t<n.length-1;t++){let l=n[t];-1==l.result?r[e-1]++:1==l.result&&r[t-1]++}}let l=[];for(let e=0;e<r.length;e++)l.push({i:e,points:r[e]});return l.sort((e,t)=>t.i-e.i),n[l[0].i+1]}}function S(e){let t=structuredClone(e),n=t.data;if("bracket"==t.type){for(let e=0;e<n.length-1;e++){let t=n[e];for(let e=0;e<t.length;e++)t[e]=u()}let e=n[n.length-1];for(let t=0;t<e.length;t++)e[t].result=0}else if("roundRobin"==t.type)for(let e=1;e<n.length-1;e++){let t=n[e];for(let n=e+1;n<t.length-1;n++)t[n].result=0}return t}let C=()=>new Promise(e=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{let n=new MediaRecorder(t),r=[];n.addEventListener("dataavailable",e=>{r.push(e.data)}),e({start:()=>{n.start()},stop:()=>new Promise(e=>{n.addEventListener("stop",()=>{let t=new Blob(r),n=URL.createObjectURL(t),l=new Audio(n);e({audioBlob:t,audioUrl:n,audio:l})}),t.getTracks().forEach(e=>e.stop()),n.stop()})})})});function x(e,t){let n=t.indexOf(":");e[t.substring(0,n)]=t.substring(n+1)}function L(e,t){let n=t.split("\n");for(let t=0;t<n.length;){let r=n[t];for(t++;n[t];){let e=n[t].indexOf(":");if(-1!=e){if("\\"==n[t][e-1])n[t]=n[t].replace("\\:",":");else break}r+="\n"+n[t],t++}x(e,r)}}function D(e){let t={problemSets:[]},n=(function(e){let t=e.split("\n"),n="";for(let e=0;e<t.length;e++){let r=t[e],l=r.indexOf("--");-1!==l?n+=r.substring(0,l):n+=r,e!=t.length-1&&(n+="\n")}return n})(e.trim().replaceAll("\r\n","\n")).split("\n\n\n\n");for(let e=0;e<n.length;e++){let r={problems:[]},l=n[e].split("\n\n\n");L(r,l[0]);let o=r.problems;for(let e=1;e<l.length;e++){let t=e-1,n=l[e],r={question:{n:t},answer:{n:t}},u=n.split("\n\n");L(r.question,u[0]),L(r.answer,u[1]);let a=r.answer,s=null;a.a?s="multiple":a.latex?s="latex":a.text&&(s="text"),r.question.type=s,r.answer.type=s,u.length>2&&(r.answerFull={n:t,type:s},x(r.answerFull,u[2])),o.push(r)}t.problemSets.push(r)}return t.problemSets}function A(e,t){let n=e+":",r=t.split("\n");n+=r[0];for(let e=1;e<r.length;e++)n+="\n"+r[e].replaceAll(":","\\:");return n}function E(e){let t="";for(let[n,r]of Object.entries(e))"problems"!=n&&(t+=A(n,r)+"\n");t+="\n\n";let n=e.problems;for(let e=0;e<n.length;e++){let r=n[e];for(let[e,n]of Object.entries(r.question))t+=A(e,n)+"\n";for(let[e,n]of(t+="\n",Object.entries(r.answer)))t+=A(e,n)+"\n";t+="\n\n"}return t}function U(e){return e.name+" "+e.problems.length}function j(e){let t=e.answer,n=97,r=[];for(;;){let e=t[String.fromCharCode(n)];if(e)r.push([n,e]),n++;else break}return r}function J(e,t){let n=structuredClone(e);for(let[e,r]of Object.entries(t))r.itemsValue&&(n[e]=r.itemsValue[n[e]]);return n}}}]);