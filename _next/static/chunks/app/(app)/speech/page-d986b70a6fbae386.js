(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[731],{22029:function(e,n,t){Promise.resolve().then(t.bind(t,15309))},15309:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var i=t(28754),r=t(91809),s=t(26371),c=t(14091),a=t(42123);function l(e){let{record:n,setRecord:t}=e,[c,l]=(0,a.useState)(0);function u(e){l(e.currentTime/e.duration*100)}function o(e){let n=e.audio.audio;return n.currentTime=e.currentTime,n.play(),e.playing=!0,e}function h(e){let n=e.audio.audio;return n.pause(),e.currentTime=n.currentTime,e.playing=!1,u(n),e}function x(e){let n=e.audio.audio;return e.currentTime=0,n.currentTime=0,u(n),e}return(0,a.useEffect)(()=>(n.startPlayingNow&&t(o({...n,startPlayingNow:void 0})),n.audio.audio.onended=()=>t(x(h({...n}))),()=>{n.intervalId&&clearInterval(n.intervalId)}),[n,t,x,h]),(0,i.jsxs)(s.kC,{align:"center",children:[(0,i.jsx)(s.xu,{width:"80%",children:(0,i.jsx)(s.xv,{children:n.name})}),(0,i.jsx)(s.xu,{width:"20%",children:(0,i.jsxs)(s.kC,{gap:"3",align:"center",children:[(0,i.jsxs)(s.Vq.Root,{children:[(0,i.jsx)(s.Vq.Trigger,{children:(0,i.jsx)(s.hU,{variant:"outline",children:(0,i.jsx)(r.zPP,{})})}),(0,i.jsxs)(s.Vq.Content,{children:[(0,i.jsx)(s.Vq.Title,{children:"Transcript"}),(0,i.jsx)(s.Vq.Description,{children:n.transcriptObject.transcript}),(0,i.jsx)(s.xu,{height:"12px"}),n.transcriptObject.transcript?(0,i.jsxs)(s.zx,{variant:"outline",onClick:()=>{var e=new SpeechSynthesisUtterance;e.text=n.transcriptObject.transcript,e.lang="en-US",window.speechSynthesis.speak(e)},children:[(0,i.jsx)(r.bx5,{}),"Speak using Text to Speech"]}):null]})]}),(0,i.jsx)(s.hU,{variant:"outline",onClick:()=>{n.playing?t(h({...n})):t(o({...n}))},children:n.playing?(0,i.jsx)(r.fpf,{}):(0,i.jsx)(r.o1U,{})}),(0,i.jsx)(s.hU,{variant:"outline",onClick:()=>{t(x({...n}))},children:(0,i.jsx)(r.BGW,{})}),(0,i.jsx)(s.Ex,{value:c})]})})]})}function u(){let[e,n]=(0,a.useState)([]),t=(0,a.useRef)(null),u=(0,a.useRef)(null),o=(0,a.useRef)(null),[h,x]=(0,a.useState)(0),[d,p]=(0,a.useState)(""),[j,g]=(0,a.useState)("");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.xu,{height:"48px"}),(0,i.jsxs)(s.kC,{justify:"center",gap:"3",children:[(0,i.jsx)(s.nv.Root,{placeholder:"Text to speech…",value:j,onChange:e=>g(e.target.value),children:(0,i.jsx)(s.nv.Slot,{children:(0,i.jsx)(r.JtS,{})})}),(0,i.jsx)(s.hU,{variant:"outline",onClick:()=>{var e=new SpeechSynthesisUtterance;e.text=j,e.lang="en-US",window.speechSynthesis.speak(e)},children:(0,i.jsx)(r.bx5,{})})]}),(0,i.jsx)(s.xu,{height:"24px"}),(0,i.jsxs)(s.kC,{justify:"center",gap:"3",children:[(0,i.jsx)(s.nv.Root,{value:d,placeholder:"Name this recording…",onChange:e=>p(e.target.value),children:(0,i.jsx)(s.nv.Slot,{children:(0,i.jsx)(r.JtS,{})})}),(0,i.jsx)(s.hU,{variant:"outline",onClick:async()=>{if(0==h){t.current=await (0,c.uo)(),t.current.start();let e=new(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition);e.lang="en-US",u.current=e;let n={transcript:null};o.current=n,e.onresult=e=>{let t=e.results[0][0].transcript;n.transcript=t},e.onend=()=>{},e.start(),x(1)}else{let i=await t.current.stop();n([{name:""===d?"Untitled":d,time:Date.now(),audio:i,playing:!1,currentTime:0,transcriptObject:o.current,startPlayingNow:!0},...e]),x(0)}},children:0==h?(0,i.jsx)(r.tjb,{}):(0,i.jsx)(r.wNq,{})})]}),(0,i.jsx)(s.xu,{height:"64px"}),(0,i.jsx)(s.X6,{className:"text-center",children:"Past recordings:"}),(0,i.jsx)(s.xu,{height:"12px"}),(0,i.jsx)(s.kC,{direction:"column",gap:"3",children:e.map((t,r)=>(0,i.jsx)(l,{record:t,setRecord:t=>n(e.map((e,n)=>r==n?t:e))},crypto.randomUUID()))})]})}}},function(e){e.O(0,[545,999,853,185,146,672,744],function(){return e(e.s=22029)}),_N_E=e.O()}]);